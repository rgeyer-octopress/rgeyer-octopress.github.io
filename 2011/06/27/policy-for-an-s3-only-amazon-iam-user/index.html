<h2>date: 2011-06-27 00:00:00 -0700</h2>

<p>layout: post
title: Policy for an S3 only Amazon IAM User
comments: true
categories:
&ndash; Cloud computing
&ndash; Snippets
tags:
&ndash; access management
&ndash; amazon
&ndash; aws
&ndash; cloud computing
&ndash; iam
&ndash; linkedin
&ndash; policy
&ndash; s3
status: publish
type: post
published: true
meta:
  _headspace_description: A simple Amazon IAM policy to allow a user full access to</p>

<pre><code>a single S3 bucket
</code></pre>

<p>  _edit_last: &lsquo;1&rsquo;
comments: true</p>

<h2>date: 2011-06-27 00:00:00 -0700</h2>

<p>Now that Amazon&rsquo;s Identity and Access Management (<a href="http://aws.amazon.com/iam/">IAM</a>) is more widely known, and you can use your IAM credentials to <a href="/2011/04/04/enabling-aws-console-login-for-iam-users/">login to the AWS Console</a>, you might be wondering how to really leverage the IAM offering.</p>

<!--more-->


<p>One really good use for IAM is allowing access for specific users to specific S3 buckets.  This is what the IAM policy would look like.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>{
</span><span class='line'>  "Statement": [
</span><span class='line'>    {
</span><span class='line'>      "Action": [
</span><span class='line'>        "s3:ListAllMyBuckets"
</span><span class='line'>      ],
</span><span class='line'>      "Effect": "Allow",
</span><span class='line'>      "Resource": "arn:aws:s3:::*"
</span><span class='line'>    },
</span><span class='line'>    {
</span><span class='line'>      "Action": "s3:*",
</span><span class='line'>      "Effect": "Allow",
</span><span class='line'>      "Resource": "arn:aws:s3:::bucket_name_here"
</span><span class='line'>    },
</span><span class='line'>    {
</span><span class='line'>      "Action": "s3:*",
</span><span class='line'>      "Effect": "Allow",
</span><span class='line'>      "Resource": "arn:aws:s3:::bucket_name_here/*"
</span><span class='line'>    }
</span><span class='line'>  ]
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>This contains three simple IAM statements.</p>

<ol>
<li>The s3:ListAllMyBuckets for the entirety of S3 (arn:aws:s3:::*)</li>
<li>Full control of the specified bucket (bucket_name_here, in this case)</li>
<li>Ful control of the contents of the specified bucket</li>
</ol>


<p>Sadly, there is no way to limit a user to which buckets are listed, instead you have to let them see all buckets which is accomplished by the first statement.</p>

<p>The second and third statement gives the user full control of the bucket itself, and it&rsquo;s contents respectively.  Assign this policy directly to a user, or a group that the user belongs to, and you&rsquo;re all set!</p>
