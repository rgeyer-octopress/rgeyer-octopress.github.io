

<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Random Musings</title>
  <meta name="author" content="Ryan J. Geyer">
  <link rel="author" href="humans.txt">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  
    
  
  <meta name="description" content=" ">
  
  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.ryangeyer.com/page/7/">
  <link href="/favicon.png" rel="icon">
  <link href='http://fonts.googleapis.com/css?family=Cantarell' rel='stylesheet' type='text/css'>
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Random Musings" type="application/atom+xml">
  <meta name="og:type" content="website" />
  <meta name="og:site_name" content="Random Musings" />
  <meta name="og:title" content="Random Musings" />
  <meta name="og:description" content=" " />
  <meta name="og:url" content="http://blog.ryangeyer.com/page/7/index.html"/>
  <meta name="url" content="http://blog.ryangeyer.com/page/7/index.html">
  
  <meta name="distribution" content="global">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-2840005-7']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div id="front-wrapper">
  <div id="hero">
    <div id="hero-inner" class="container">
      <div class="span10 offset1">
  <h1>
    Random Musings
  </h1>
  <h2></h2>
</div>

    </div>
  </div>
  <section id="sub-hero">
    <div class="container">
      <div class="row">
  <div class="span4">
    <h2>about me</h2>
<p>Married 12 years to a loving and patient woman.</p>
<p>Father to 3 very energetic boys.</p>
<p>Addicted to cycling.</p>
<p>I do geeky stuff with machines, electronics, and computers.</p>

  </div>
  <div class="span6">
    
<h2>recent public projects</h2>
<dl id="gh_repos" class="" data-github-user="rgeyer" data-github-repo-count="5" data-github-skip-forks="true">
  <dd class="loading">Status updating&#8230;</dd>
</dl>
<script src="/javascripts/github.js" type="text/javascript"> </script>
<script src="/javascripts/libs/jXHR.js" type="text/javascript"> </script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/rgeyer/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>



<a href="http://stackoverflow.com/users/1305386/" rel="tooltip" title="Stack Overflow"><img class="social_icon" title="Stack Overflow" alt="stack overflow icon" src="/images/glyphicons_400_stack_overflow.png"></a>



<a href="http://www.linkedin.com/in/rjgeyer" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/rjgeyer" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>











<a href="https://plus.google.com/+RyanGeyerCycles?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" title="Google Plus" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>



<a href="http://www.quora.com/Ryan-Geyer" rel="tooltip" title="Quora"><img class="social_icon" title="Quora" alt="Quora icon" src="/images/glyphicons_385_quora.png"></a>



<h2>contact at</h2>
<a href="mailto:me@ryangeyer.com">me@ryangeyer.com</a>


  </div>
</div>

    </div>
  </section>
  <div class="container">
    <div class="row" id="post-container">
    
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2011/01/03/grails-plugin-dependencies/">Grails Plugin Dependencies</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2011-01-03T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2011/01/03/grails-plugin-dependencies/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2011-01-03 00:00:00 -0700</h2>

<p>layout: post
title: Grails Plugin Dependencies
comments: true
categories:
&ndash; Grails/Groovy
tags:
&ndash; dependency
&ndash; grails
&ndash; linkedin
&ndash; plugins
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>syntaxhighlighter_encoded: &lsquo;1&rsquo;
  <em>sexybookmarks_shortUrl: <a href="http://bit.ly/h7tXAn">http://bit.ly/h7tXAn</a>
  </em>sexybookmarks_permaHash: 5b3289ff16214c230780f28d6aa22e3c</p>

<h2>date: 2011-01-03 00:00:00 -0700</h2>

<p>You just finished adding a shiny new plugin to your Grails project, and build some functionality around it.  You excitedly push it out to your deployment site and you&rsquo;re greeted with a NoClassDefException.  If this has happened to you, the complex and murky plugin dependency handling of Grails may be to blame.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2011/01/03/grails-plugin-dependencies/">Read on &rarr;</a>
    </footer>
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/29/chef-for-rightscale-quick-start/">Chef for Rightscale Quick Start</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-29T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/29/chef-for-rightscale-quick-start/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-29 00:00:00 -0700</h2>

<p>layout: post
title: Chef for RightScale Quick Start
comments: true
categories:
&ndash; Cloud computing
tags:
&ndash; chef
&ndash; cloud
&ndash; configuration
&ndash; cookbooks
&ndash; linkedin
&ndash; RightScale
&ndash; script
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>syntaxhighlighter_encoded: &lsquo;1&rsquo;
  <em>sexybookmarks_shortUrl: <a href="http://b2l.me/a7r6vq">http://b2l.me/a7r6vq</a>
  </em>sexybookmarks_permaHash: 4f3fcd9289e1ad70de0ee9a344598ab8
  <em>headspace_description: &lsquo;&rsquo;
  </em>headspace_page_title: &lsquo;&rsquo;
  Hide OgTags: &lsquo;0&rsquo;
  Hide SexyBookmarks: &lsquo;0&rsquo;</p>

<h2>date: 2010-11-29 00:00:00 -0700</h2>

<p>For the past few weeks I have been getting down and dirty writing Chef recipes for use in RightScale.</p>

<p>With Chef support still in beta on RightScale, and me being a complete Chef newbie it&rsquo;s I&rsquo;m still on the front side of the learning curve.</p>

<p>If you&rsquo;re just getting started with Chef for RightScale, you might benefit from this quick start and some of the lessons I learned while getting started.</p>

<h1>Mise en place</h1>


<p>While you could just open up Notepad or TextEdit and start writing your Chef recipes, there are a few resources that will make the experience much more enjoyable.</p>

<h2>Install Chef</h2>


<p>The first thing you&rsquo;re going to want to do is install the Chef Ruby Gem.  This will add all of the libraries and binaries for Chef.</p>

<p>While we&rsquo;re writing our recipes for use with RightScale we won&rsquo;t need to worry about using the Chef Server, Chef Solo, or Chef Client, so don&rsquo;t bother configuring any of those.</p>

<p>I&rsquo;m developing on a Mac and the only suitable installation method seems to be using Ruby Gems to install.  This mechanism should also work for most Linux and Debian machines which already have Ruby installed.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>sudo gem install chef</span></code></pre></td></tr></table></div></figure>


<p>Be sure that you run this as root, or with sudo or Chef will get installed at ~/.gem and won&rsquo;t be in your $PATH or consequently accessible to other users.</p>

<h2>Sharpen your knives</h2>


<p>Now that you have all of the Chef goodies installed, you&rsquo;ll have a binary named &ldquo;knife&rdquo;.  The knife is a utility which we&rsquo;ll be using as we develop our cookbooks and recipes which you&rsquo;ll see later.</p>

<p>First though, we need to configure knife.  Since we&rsquo;ll only be using knife to act locally on our recipes and cookbooks we don&rsquo;t need to give it legit values for a Chef server, but we do need to complete the configuration step to satisfy knife and prevent it from crashing when we use it.</p>

<p>To create a simple configuration file for knife, just run knife config, and accept all of the defaults.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>knife configure
</span><span class='line'>No knife configuration file found
</span><span class='line'>Where should I put the config file? [~/.chef/knife.rb] 
</span><span class='line'>Please enter the chef server URL: [http://localhost:4000] 
</span><span class='line'>Please enter an existing username or clientname for the API: [rgeyer] 
</span><span class='line'>Please enter the validation clientname: [chef-validator] 
</span><span class='line'>Please enter the location of the validation key: [/etc/chef/validation.pem] 
</span><span class='line'>Please enter the path to a chef repository (or leave blank): 
</span><span class='line'>WARN: *****
</span><span class='line'>WARN: 
</span><span class='line'>WARN: You must place your client key in:
</span><span class='line'>WARN:   /Users/rgeyer/.chef/rgeyer.pem
</span><span class='line'>WARN: Before running commands with Knife!
</span><span class='line'>WARN: 
</span><span class='line'>WARN: *****
</span><span class='line'>WARN: 
</span><span class='line'>WARN: You must place your validation key in:
</span><span class='line'>WARN:   /etc/chef/validation.pem
</span><span class='line'>WARN: Before generating instance data with Knife!
</span><span class='line'>WARN: 
</span><span class='line'>WARN: *****
</span><span class='line'>WARN: Configuration file written to /Users/rgeyer/.chef/knife.rb</span></code></pre></td></tr></table></div></figure>


<p>You&rsquo;re safe to ignore the warnings since they only pertain to actually connecting to a Chef server, which we won&rsquo;t be doing.</p>

<p>That&rsquo;s it for installing and configuring Chef if you&rsquo;re using it with RightScale!</p>

<h2>Prepare your pantry</h2>


<p>Once you get going with Chef you&rsquo;re going to need to store your cookbooks somewhere for RightScale to find them and run them.</p>

<p>RightScale will use svn or git repositories, as well as simply downloading a tar or zip file, but my personal preference is to use a git repository.</p>

<p>The quickest and easiest way to get started with git is to head over to <a href="https://github.com/">github</a> and sign up for a free account.</p>

<p>Once you&rsquo;re setup, go ahead and create the repository we&rsquo;ll be using for our Chef cookbooks, and note the SSH URL to your new repository.  It should look something like <em>git@github.com:&lt;github_username&gt;/&lt;repo_name&gt;.git</em>.  Write it down or keep the browser window open so you can reference it later.</p>

<h1>Heat things up</h1>


<p>Now that you&rsquo;ve got your <a href="http://en.wikipedia.org/wiki/Mise_en_place">mise en place</a> it&rsquo;s time to get cooking for RightScale with Chef.</p>

<h2>Create your repo</h2>


<p>The first step is to get the file structure of your Chef repository setup.  You could just take a look at an existing repository like the <a href="https://github.com/opscode/cookbooks">opscode</a> cookbooks, or RightScale&rsquo;s <a href="https://github.com/rightscale/cookbooks_public">public repository</a> and replicate it manually, but there is a better way.</p>

<h2>Clone the OpsCode repo</h2>


<p>OpsCode, (the folks behind Chef) have conveniently provided a public github repository that represents the skeleton of a fully operational Chef repository.  You can clone this repository to get you started.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git://github.com/opscode/chef-repo.git</span></code></pre></td></tr></table></div></figure>


<p>Once you&rsquo;ve cloned the skeleton repository, you&rsquo;ll want to configure git to use the new github repository we created earlier.  Here&rsquo;s where you&rsquo;ll use the SSH URL I told you to take note of.  Substitute that URL where you find &lt;ssh_url&gt; below.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd chef-repo/
</span><span class='line'>git remote rename origin opscode-github
</span><span class='line'>git remote add origin &lt;ssh_url&gt;
</span><span class='line'>git remote rm opscode-github
</span><span class='line'>git push origin master</span></code></pre></td></tr></table></div></figure>




<h2>Create cookbook</h2>


<p>With the repository skeleton all ready, we&rsquo;re going to want to create our first cookbook and add a recipe to it.</p>

<p>Creating a cookbook is our first chance to use our freshly sharpened knife, like so.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>knife cookbook create my-first-cookbook -o cookbooks/</span></code></pre></td></tr></table></div></figure>


<p>This should create a nice new cookbook skeleton directory at &lt;path_to_your_repo&gt;/cookbooks/my-first-cookbook.</p>

<p>With that done, let&rsquo;s put our first recipe in the cookbook.  Using your favorite IDE, create and save a file named <em>helloworld.rb</em> inside the new cookbook directory.</p>

<p><strong>EDIT: Many have correctly pointed out that the hello world file should actually go in <em>&lt;path_to_your_repo&gt;/cookbooks/my-first-cookbook/recipes</em>.  Thanks all for the feedback!</strong></p>

<figure class='code'><figcaption><span>helloworld.rb </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">log</span> <span class="s2">&quot;Hello World&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>With the recipe created, we need to add it to our metadata file so that Chef and RightScale can know it&rsquo;s there.  Here&rsquo;s a copy of our default <em>metadata.rb</em> file.  The highlighted line is added to define the recipe we&rsquo;ve added.</p>

<figure class='code'><figcaption><span>metadata.rb mark:8 </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">maintainer</span>       <span class="s2">&quot;YOUR_COMPANY_NAME&quot;</span>
</span><span class='line'><span class="n">maintainer_email</span> <span class="s2">&quot;YOUR_EMAIL&quot;</span>
</span><span class='line'><span class="n">license</span>          <span class="s2">&quot;All rights reserved&quot;</span>
</span><span class='line'><span class="n">description</span>      <span class="s2">&quot;Installs/Configures my-first-cookbook&quot;</span>
</span><span class='line'><span class="n">long_description</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="no">File</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">__FILE__</span><span class="p">),</span> <span class="s1">&#39;README.rdoc&#39;</span><span class="p">))</span>
</span><span class='line'><span class="n">version</span>          <span class="s2">&quot;0.0.1&quot;</span>
</span><span class='line'>
</span><span class='line'><span class="n">recipe</span> <span class="s2">&quot;my-first-cookbook::helloworld&quot;</span><span class="p">,</span> <span class="s2">&quot;My first recipe, prints Hello World to the RightScale dashboard&quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>We only have one more step before we&rsquo;re ready to commit our new cookbook and recipe to our new git repository.</p>

<p>RightScale reads the metadata to determine which recipes are available in the repository, and which inputs are available for those recipes.  The file that RightScale evaluates though is a json file named <em>metadata.json</em>.</p>

<p>The contents of <em>metadata.json</em> are effectively the same as <em>metadata.rb</em>, but take heart, you only need maintain the <em>metadata.rb</em> file, then convert it using another Chef command.  To generate <em>metadata.json</em> from <em>metadata.rb</em> just run the following command.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake metadata</span></code></pre></td></tr></table></div></figure>


<p>You can run this command either right at the root of your repository, or inside each cookbook.  If you run it from the root directory of your repository, it will convert all the metadata files in all of the cookbooks.</p>

<p>Now we&rsquo;re ready to commit our repository and try out our new cookbook.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git add cookbooks/
</span><span class='line'>git commit -am &quot;Added my-first-cookbook and helloworld recipe&quot;
</span><span class='line'>git push</span></code></pre></td></tr></table></div></figure>




<h1>RightScale Configuration</h1>


<p>I&rsquo;m going to assume that you already have some familiarity with the RightScale dashboard, and creating things like ServerTemplates and RightScripts.</p>

<p>What I&rsquo;m going to cover here are steps are necessary to start using Chef with your ServerTemplates.</p>

<h2>Tell RightScale about your Repo</h2>


<p>The first thing you need to start using your cookbooks in RightScale is to tell the RightScale dashboard where to find your repo.  To do that, you need to create a new <em>RepoPath</em> in the designer.</p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216898582/" title="Screen shot 2010-11-28 at 7.33.05 PM by qwikrex, on Flickr"><img src="http://farm6.static.flickr.com/5128/5216898582_2c0d17f8d8_z.jpg" width="640" height="359" alt="Screen shot 2010-11-28 at 7.33.05 PM" /></a></p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216898726/" title="Screen shot 2010-11-28 at 7.33.35 PM by qwikrex, on Flickr"><img src="http://farm6.static.flickr.com/5205/5216898726_cbc1351324_z.jpg" width="640" height="359" alt="Screen shot 2010-11-28 at 7.33.35 PM" /></a></p>

<p>When you&rsquo;re adding the RepoPath, for the URL field, supply the &ldquo;Git Read-Only URL&rdquo; for your repository, and make sure to specify the path to your cookbooks as <em>cookbooks</em>.</p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216310951/" title="Screen shot 2010-11-28 at 7.34.37 PM by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4104/5216310951_0400b36fd8_z.jpg" width="640" height="440" alt="Screen shot 2010-11-28 at 7.34.37 PM" /></a></p>

<h2>Add your RepoPath to a ServerTemplate</h2>


<p>Now that you&rsquo;ve added your repo to the RightScale dashboard, you need to add that RepoPath to a ServerTemplate.  To do that, open the ServerTemplate you want to run Chef cookbooks on, and click the edit pencil on the <em>Repos</em> tab.</p>

<p>Then select the RepoPath we just made, and click OK.</p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216937566/" title="Screen shot 2010-11-28 at 7.56.33 PM by qwikrex, on Flickr"><img src="http://farm6.static.flickr.com/5128/5216937566_30f703fb4b_z.jpg" width="640" height="440" alt="Screen shot 2010-11-28 at 7.56.33 PM" /></a></p>

<h2>Add a recipe to your ServerTemplate</h2>


<p>Our very last step is to add our helloworld recipe to a our ServerTemplate so that we can run it on one of our instances.  Go back to the <em>Scripts</em> tab, and in the script category of your choosing, click <em>Add Recipe</em> and select the helloworld recipe.</p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216369965/" title="Screen shot 2010-11-28 at 8.02.27 PM by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4083/5216369965_469cafb59b_z.jpg" width="640" height="440" alt="Screen shot 2010-11-28 at 8.02.27 PM" /></a></p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216958398/" title="Screen shot 2010-11-28 at 8.02.34 PM by qwikrex, on Flickr"><img src="http://farm6.static.flickr.com/5127/5216958398_b087c4abb2_z.jpg" width="640" height="440" alt="Screen shot 2010-11-28 at 8.02.34 PM" /></a></p>

<p>From an instance running with the ServerTemplate we just modified, we can run the recipe, and see &ldquo;Hello World&rdquo; appear in the RightScale dashboard.</p>

<p><a href="http://www.flickr.com/photos/rgeyer/5216405207/" title="Screen shot 2010-11-28 at 8.18.58 PM by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4088/5216405207_bfa688f098_z.jpg" width="640" height="440" alt="Screen shot 2010-11-28 at 8.18.58 PM" /></a></p>

<h1>Tips & Tricks</h1>


<p>As stated before, Chef support in RightScale is still in Beta.  Because of this there are some gotchas to watch out for.</p>

<h2>Sanity Check Recipe</h2>


<p>If there are any syntax errors or anything else amiss in your repository, you&rsquo;ll find that not just the cookbook or recipe which you&rsquo;re working on is failing, but absolutely <strong><em>every</em></strong> recipe in your repo (or any other repo that&rsquo;s part of your RepoPath) will fail with this super informative error message.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>*ERROR&gt; Chef process failed with return code 1</span></code></pre></td></tr></table></div></figure>


<p>Of course, you can also get that error message if you have some other problem in the recipe you&rsquo;re working on.</p>

<p>Because of this I find it useful to keep a &ldquo;smoke test&rdquo; recipe in my repo, and assigned to the operational scripts on my ServerTemplate when I&rsquo;m doing Chef development.  This recipe should be something simple that you know will always succeed, assuming that everything else is in order.</p>

<p>The helloworld recipe that we created in this exercise is actually a perfect choice for this purpose.</p>

<h1>Taste Test</h1>


<p>So there it is, everything you need to know to get started using Chef on RightScale condensed from my few weeks of experience.  I hope it helps you get started configuring your server instances with Chef, which brings a whole new dimension of power and flexibility to the RightScale ServerTemplates.</p>

<p>I&rsquo;m excited to see how Chef support progresses and makes it to <em>production</em> status.</p>

<p>If you&rsquo;re hungry for more info, check out some of the early documentation available about using Chef in RightScale <a href="http://support.rightscale.com/index.php?title=09-Clouds/Multi_Cloud/Chef">here</a>.</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/24/project-late-model-restoration-suspension-rehab/">Project Late Model Restoration Suspension Rehab</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-24T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/24/project-late-model-restoration-suspension-rehab/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-24 00:00:00 -0700</h2>

<p>layout: post
title: Project Late Model Restoration &ndash; Suspension Rehab
comments: true
categories:
&ndash; 92 ES300
tags:
&ndash; 1992 lexus es300
&ndash; eibach pro kit lowering springs
&ndash; kumho
&ndash; kyb gr2
&ndash; late model restoration
&ndash; linkedin
&ndash; lower spring
&ndash; suspension
&ndash; tires
&ndash; wheels
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a6ztfx">http://b2l.me/a6ztfx</a>
  _sexybookmarks_permaHash: a836302dce74356a04e00b828e21a7ea</p>

<h2>date: 2010-11-24 00:00:00 -0700</h2>

<p><a href="http://www.flickr.com/photos/rgeyer/5059833839/" title="Lexus New Kicks by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4110/5059833839_71184e12f9_z.jpg" width="640" height="361" alt="Lexus New Kicks" class="aligncenter" /></a></p>

<p>When I announced <a href="/2010/09/07/project-late-model-restoration-1992-lexus-es300/">project late model restoration</a>, I mentioned the badly worn front suspension as one of the main things that needed attention.  Truth be told, the state of the suspension was really the catalyst for starting this project.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2010/11/24/project-late-model-restoration-suspension-rehab/">Read on &rarr;</a>
    </footer>
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/22/how-i-would-improve-rightscales-servertemplates/">How I Would Improve Rightscales Servertemplates</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-22T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/22/how-i-would-improve-rightscales-servertemplates/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-22 00:00:00 -0700</h2>

<p>layout: post
title: How I would improve RightScale&rsquo;s ServerTemplates
comments: true
categories:
&ndash; Cloud computing
tags:
&ndash; linkedin
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a6rcxk">http://b2l.me/a6rcxk</a>
  _sexybookmarks_permaHash: e769d5a1f7cfe847e377b81b04936dbb</p>

<h2>date: 2010-11-22 00:00:00 -0700</h2>

<p>One of RightScale&rsquo;s key differentiators from other cloud management platforms is the concept of the ServerTemplate.</p>

<p>A ServerTemplate is like a blueprint of the server you want to launch in the cloud.  It defines things like what software and services will be installed and configured, what will be ready when the server boots, and what can be run periodically for maintenance during the lifetime of that server instance.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2010/11/22/how-i-would-improve-rightscales-servertemplates/">Read on &rarr;</a>
    </footer>
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/17/project-late-model-restoration-power-antenna-shift-cable/">Project Late Model Restoration Power Antenna Shift Cable</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-17T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/17/project-late-model-restoration-power-antenna-shift-cable/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-17 00:00:00 -0700</h2>

<p>layout: post
title: Project Late Model Restoration &ndash; Power Antenna &amp; Shift Cable
comments: true
categories:
&ndash; 92 ES300
&ndash; Worklogs
tags:
&ndash; 1992 lexus es300
&ndash; late model restoration
&ndash; lexus
&ndash; linkedin
&ndash; manual transmission
&ndash; power antenna
&ndash; shift cable
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a5yfyy">http://b2l.me/a5yfyy</a>
  _sexybookmarks_permaHash: ccd69a2b4aa3a289f40e1c2695b920ff</p>

<h2>date: 2010-11-17 00:00:00 -0700</h2>

<p>So there I was, minding my own business, driving the Lexus from point A to point B.  When I arrived at my destination, I turned off the ignition, and as it had done thousands of times before the power antenna began reeling back into the rear fender, but then it happened&hellip;  I heard a horrible CLUNK, then a persistent grinding sound that simply wouldn&rsquo;t go away.</p>

<p>I tried turning the ignition back on, hoping that the antenna might have only slipped on one tooth and cycling it would get everything back on track, but it was not to be.  With the antenna stuck just a little past half way erected, I removed the trunk interior panel that covers the power antenna motor, and disconnected the power.</p>

<p>On another, completely different occasion I was pulling out into traffic on a fairly busy four lane street.  The maneuver I was attempting was a left hand turn which requires crossing the two lanes which I can see fairly well, entering the oncoming traffic in the furthest two lanes, which are obscured by a neatly manicured and lanscaped island.</p>

<p>As you might imagine, this is usually a bit of a hail mary manuever and you want to do it as quickly as possible so that you have the chance to react if you happen to be pulling into traffic which you couldn&rsquo;t see.  I pulled across the first two lanes, reving to the redline in first gear, and quickly looking over my shoulder to check for traffic as I merge and briskly pull the shifter down into second gear.  Only, this time was&hellip; different&hellip;  I engaged second gear, but the shifter traveled WELL past the point it should have then felt limp and.. well.. broken!</p>

<p>After a minor panic attack, and some experimenting with shifting in and out of various gears, I discovered that the odd numbered gears (1,3,5) still engaged normally.  But, the even gears (2,4,Reverse) had this same &ldquo;limp&rdquo; feeling, though I was still able to engage them.</p>

<p>I drove the car for many, MANY months with both of these problems but I&rsquo;ve recently remedied both of them as part of my &ldquo;Late Model Restoration&rdquo; project.  Here&rsquo;s how.</p>

<h2>Power Antenna</h2>


<p>This one was easy, replacing the power antenna mast is both inexpensive and easy.  I bought a replacement mast on eBay for under $20, and replaced it in about an hour.  It would have taken less time if I had paid closer attention to the directions and installed the outside decorative nut in the right order.  Ohh well!</p>

<p>
<a href="http://www.flickr.com/photos/rgeyer/4965399711/" title="Antenna Mast Replacement by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4154/4965399711_5fcbc972e2_m.jpg" width="161" height="240" alt="Antenna Mast Replacement" class="alignleft"/></a>

<a href="http://www.flickr.com/photos/rgeyer/4966000764/" title="Antenna Mast Replacement by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4090/4966000764_1c9ec1a9aa_m.jpg" width="240" height="161" alt="Antenna Mast Replacement"/></a>
</p>




<div style="clear:both;">
<h2>Limp Shifter</h2>
As it turns out, I wasn&#8217;t the first person to experience this.  There were a handful of guys with manual ES300&#8217;s over on <a href="http://www.clublexus.com/forums/es300-and-es330/478465-shift-cable-bushing-transmission-terminal-replacement-firstgen-92-93-a.html">ClubLexus</a> who&#8217;d had a similar experience.

After reading through their experiences, I decided that my symptoms were caused by a damaged shifter bushing, and I ordered up the Speed Source solid bushings.  While I was ordering parts for the rest of the Late Model Restoration, I started to second guess my diagnosis and went ahead with ordering the replacement cable as well.

Let me tell you, removing and installing the cable is quite a painful experience.  It requires the removal of two grommets, one on the inside of the car against the firewall, and one inside the engine compartment against the firewall.  They&#8217;re both held on by only two bolts, but they are in extraordinarily difficult to access places.  I literally spend an entire day on this project alone.

What&#8217;s worse, I probably didn&#8217;t need to replace the cable at all.  As it turns out, the shifter bushing was seriously damaged, and was actually a bit more of a heart shape than the round machined shape it should have been.
</div>


<p><a href="http://www.flickr.com/photos/rgeyer/5115809900/" title="Shift Bushing by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4112/5115809900_681de2113b_m.jpg" width="240" height="240" alt="Shift Bushing" class="aligncenter" /></a></p>

<p>The result, however, is well worth the effort.  The shifter feels perfect now.  Very positive tactile feedback, I know when I&rsquo;ve engaged a gear.  It&rsquo;s easily &ldquo;better than new&rdquo; with the solid bushings and the factory fresh cable.  While replacing the cable may not have been expensive (it&rsquo;s a > $200 part) and not immediately necessary it&rsquo;s worth the peace of mind knowing that it&rsquo;s new and I&rsquo;ve got at least another 18 years before I have to worry about it again.</p>

<p>Stay tuned for more of the Late Model Restoration, the suspension is next, and here&rsquo;s a little teaser!
<a href="http://www.flickr.com/photos/rgeyer/4997297360/" title="Late Model Restoration Preview by qwikrex, on Flickr"><img src="http://farm5.static.flickr.com/4145/4997297360_676624a74b.jpg" width="500" height="334" alt="Late Model Restoration Preview" class="aligncenter"/></a></p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/17/add-agility-to-dev-test-with-the-cloud-managed-by-rightscale/">Add Agility to Dev Test With the Cloud Managed by Rightscale</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-17T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/17/add-agility-to-dev-test-with-the-cloud-managed-by-rightscale/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-17 00:00:00 -0700</h2>

<p>layout: post
title: Add Agility to Dev &amp; Test with the Cloud &ndash; Managed by RightScale
comments: true
categories:
&ndash; Cloud computing
tags:
&ndash; agility
&ndash; cloud
&ndash; development
&ndash; linkedin
&ndash; RightScale
&ndash; testing
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a5zda6">http://b2l.me/a5zda6</a>
  <em>wp_old_slug: &lsquo;&rsquo;
  </em>sexybookmarks_permaHash: be5a15455a20b1b9537f2e961fe4b3b6</p>

<h2>date: 2010-11-17 00:00:00 -0700</h2>

<p>Whether you are a small development company with a tight budget, or an established enterprise with some trepidation about wading into the murky waters of cloud computing, RightScale just made it easier to empowering your development and test teams with cloud computing.</p>

<p>In late September RightScale announced a Development and Test solution pack.  This solution pack is a suite of tools, best practices, and professional services that helps deliver the agility promised by the cloud to your development and test phases.</p>

<p><a href="http://www.cmcrossroads.com/">CM Crossroads</a> interviewed RightScale&rsquo;s CEO Michael Crandell about the new offering and has recently made the interview available.</p>

<p>If you want to know more after watching the interview, checkout the RightScale <a href="http://www.rightscale.com/products/plans-pricing/dev-test-solution-pack.php">Dev and Test Solution Pack</a> landing page for more info.</p>

<object width="640" height="385"><param name="movie" value="http://www.youtube.com/v/RRPl2sPCsWw?fs=1&amp;hl=en_US&amp;rel=0&amp;hd=1&amp;color1=0x3a3a3a&amp;color2=0x999999"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="http://www.youtube.com/v/RRPl2sPCsWw?fs=1&amp;hl=en_US&amp;rel=0&amp;hd=1&amp;color1=0x3a3a3a&amp;color2=0x999999" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="640" height="385"></embed></object>

</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/12/how-to-become-a-cloud-computing-rockstar/">How to Become a Cloud Computing Rockstar</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-12T00:00:00-08:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/12/how-to-become-a-cloud-computing-rockstar/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-12 00:00:00 -0700</h2>

<p>layout: post
title: How to become a Cloud Computing Rockstar
comments: true
categories:
&ndash; Cloud computing
tags:
&ndash; amazon
&ndash; cloud
&ndash; ec2
&ndash; ipad
&ndash; linkedin
&ndash; RightScale
&ndash; rockstar
&ndash; servertemplate
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a476ej">http://b2l.me/a476ej</a>
  <em>wp_old_slug: &lsquo;&rsquo;
  </em>sexybookmarks_permaHash: bee1d75011b792db670410f31c1501c0</p>

<h2>date: 2010-11-12 00:00:00 -0700</h2>

<p>It&rsquo;s now the end of my first full week back at work since I attended the 2010 Cloud Expo and RightScale User Conference, and I&rsquo;m still feeling the motivation and enthusiasm I picked up there.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2010/11/12/how-to-become-a-cloud-computing-rockstar/">Read on &rarr;</a>
    </footer>
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/11/01/how-to-resize-billions-of-images-in-the-cloud/">How to Resize Billions of Images in the Cloud</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-11-01T00:00:00-07:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/11/01/how-to-resize-billions-of-images-in-the-cloud/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-11-01 00:00:00 -0700</h2>

<p>layout: post
title: How to resize billions of images in the cloud
comments: true
categories:
&ndash; Cloud computing
&ndash; Linux
&ndash; php
tags:
&ndash; linkedin
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a3jrav">http://b2l.me/a3jrav</a>
  <em>wp_old_slug: &lsquo;&rsquo;
  </em>sexybookmarks_permaHash: 403dae2fa06719cbfda274c387b2d88c</p>

<h2>date: 2010-11-01 00:00:00 -0700</h2>

<p>As I was clearing out my RSS reader a few days back, I stopped to read a post on the Flickr dev blog about the &ldquo;new&rdquo; <a href="http://code.flickr.com/blog/2010/10/26/the-not-so-new-image-size-medium-640/">640px image size</a>.  In the article they lament that they wished they had made &ldquo;Large&rdquo; copies of all uploaded images because it would make generating the new 640px size easier.</p>

<p>This got me thinking, what if they did want to convert every image ever uploaded to this new size and cache it?  How would they do it? How much would it cost?  The more I thought about it, the more curious I became, so I launched a little research project to see what I could find out, and to show how I would work through the problem.</p>

<h1>Approach</h1>


<h2>How to resize?</h2>


<p>I tried searching to find out exactly how Flickr is resizing their images, but it is apparently a well kept secret.  There was a fair amount of speculation that they use Lanczos resampling, and my own research suggested it was a strong choice for quality resizing, so I chose to use it for the purposes of this experiment.</p>

<p>I wrote a very quick PHP script that uses ImageMagick with the Lanczos &ldquo;filter&rdquo; to do the work.  This resizer was built with this particular experiment in mind, but it is fairly flexible.  If you POST an image, and a value &ldquo;largestDimInPx&rdquo; it will resize the image and send it back as the response to the HTTP POST, thus the &ldquo;RESTFul&rdquo; name.  The resizer also accepts an array of parameters which it sends back in the HTTP header.  So if you were actually taking on a mass resizing project like we&rsquo;re proposing, you can pass the unique ID of the photo in your system and get it back when the resize is complete.</p>

<p>You can find the code for it over on my <a href="http://github.com/rgeyer/RESTful-PHP-Resizer">GitHub</a>.</p>

<h2>Just how many images we talkin&#8217;?</h2>


<p>Another carefully guarded secret it seems, is the total number of images that Flickr is currently hosting.  I did a lot of searching and tried a few naughty tricks to see if I could get the API or website to tell me, but it was to no avail.</p>

<p>Some previous &ldquo;official&rdquo; numbers were as high as 6 <em>billion</em> images.  So for the purposes of my test I assumed that they had 10 <em>billion</em> images that they wanted to resize to this new 640px image size.</p>

<h2>CPU Cycles - Pick your poison</h2>


<p>I have to assume that Flickr has a pretty impressive infrastructure built out, and that they have a huge amount of processing power at their disposal.  Still, to accomplish something like this it&rsquo;s unlikely that they&rsquo;d reallocate existing resources.  The task is too monumental to just have a couple servers work at it.</p>

<p>I also have to assume that they&rsquo;re carefully optimizing their servers so that they don&rsquo;t have to build and maintain more than necessary.  So that begs the question, how do you get the processing horsepower necessary to convert all of these images?</p>

<p>Since I&rsquo;ve recently been engrossed in creating and refining reusable <a href="http://www.rightscale.com/library/">RightScale ServerTemplates<a /> for our own servers in the </a><a href="http://aws.amazon.com/">AWS cloud</a>, my thoughts for a solution instantly gravitated toward launching a bunch of servers in the cloud for this purpose then terminating them when the task was done.  What I didn&rsquo;t know is if this made more sense than, say, buying a bunch of servers and configuring them to do the same task.</p>

<p>In order to do some tests, I created <a href="">ServerTemplate</a> which can be launched on AWS using RightScale that will immediately be able to start resizing images posted to it using my aforementioned PHP resizer.</p>

<h1>The experiment</h1>


<p>What I learned in short was&hellip;  This is a <strong><em>HUGE</em></strong> undertaking!  I also found that while any approach would probably be cost prohibitive, performing this resizing task using on-demand servers in the cloud is still the cheapest route by far.</p>

<h2>Assumptions</h2>


<p>First, some of the assertions for this exercise.</p>

<ul>
  <li>The server(s) performing the resize task will be of the <a href="http://aws.amazon.com/ec2/instance-types/">m1.large</a> type from AWS</li>
  <li>Flickr has 10 <em>billion</em> images to convert</li>
  <li>Those images are (on average 12MP and about 4MB</li>
  <li>The images are being resized so that the largest dimension is 640px</li>
</ul>


<p>You&rsquo;ll also find that as I describe the results, and the costs they represent, I conveniently exclude data transfer from my numbers.  This is actually intentional.  My goal is to compare just CPU time.</p>

<p>Yes, bandwidth has a tangible cost when you use it in the cloud.  But the same is true for a bare metal server doing the same task, not to mention the networking hardware which must be acquired, configured, and maintained.  So for the purposes of this experiment, only the cost of CPU cycles is really being examined.</p>

<h2>Findings</h2>


<p>With my new m1.large instance launched in the AWS cloud, and exposing the resizer service, I did a few tests to get a feel for just how long it would take to do all of this resizing.  What I found out pretty quickly was that the actual task of resizing the image actually only took around 1 second, sometimes less!  It should come as no surprise that the real time consumer in the process was I/O bandwidth.</p>

<p>Over my home cable connection (measures at 3.5Mbps up and 11.83Mbps down), using Firefox to post and FireBug to measure, it took an average of 12 seconds to complete the process of posting the image and receiving the response.  If I removed the overhead of Firefox and simply used a bash script and cURL, that dropped considerably to 8 seconds.</p>

<p>In an effort to get a &ldquo;best case scenario&rdquo; measurement, I copied the file to be resized onto the AWS instance, and ran the same cURL command locally.  On what can be effectively called &ldquo;infinite&rdquo; bandwidth, the process of posting, resizing, and fetching the result took about 2 seconds.</p>

<h2>The tortoise and the hare</h2>


<p>One very tangible benefit to using the cloud for this purpose though is the time to market for such a huge task.  You can imagine that if Flickr did decide to go ahead with this, they wouldn&rsquo;t really want to announce that they&rsquo;ve started but that the process will take many months, or even years.  Assuming again that the per image resize time is 2 seconds, it would take one server just over 633 <strong>years</strong> to convert all of the images.  Something tells me that wouldn&rsquo;t exactly go over well.</p>

<p>Say that they wanted to convert all of the images in one week, at 2 seconds per image for 10B images, it would require just over 33,000 servers to convert that many images in the cloud.  What&rsquo;s more is that it would take effectively &ldquo;no time&rdquo; to deploy that many servers, use them for a week, then terminate them.  Try rolling out that many real, bare metal servers in that timeframe!</p>

<h2>What&#8217;s it gonna cost?</h2>


<p>You might look at those results and think that these times are fairly reasonable.  However, if you take these figures and start multiplying them by ludicrously large numbers (like 10 <em>billion</em> for example), those reasonable numbers start to look very unreasonable.</p>

<p>Using these results, and (as I stated before) only accounting for CPU time, it would cost approximately $1.9M for Flickr to convert all of their images in the cloud.  That is assuming that they&rsquo;re connecting to the servers with effectively infinite bandwidth, ensuring that the upload and download transfer times for the image were less than 1 second (combined!).  Seems like a lot of money, but then it&rsquo;s a lot of images!</p>

<p>Compare that though, to building out a farm of bare metal servers to do the same task.  We&rsquo;ve already established that we&rsquo;d need a little over 33,000 servers to be able to convert all of the images in a week.  If we just take the lowest configuration Dell rack mounted server, the <a href="http://configure.us.dell.com/dellstore/config.aspx?c=us&cs=555&l=en&oc=MLB1931&s=biz">R-415</a> at a retail price of $4531, it would cost just over $149M, just for the hardware.  Worse still, the Dell doesn&rsquo;t actually have as much processing horsepower as an AWS m1.large does, so you&rsquo;d probably significantly effect the time per image.</p>

<h1>Conclusion</h1>


<p>At the end of the day, any approach for converting all of those images would be cost prohibitive, and I&rsquo;m betting Flickr won&rsquo;t be taking on this project.  Still, if I had to accomplish this task for real, I think I&rsquo;ve demonstrated fairly convincingly that doing it in the cloud with on demand computing power is totally the way to go.</p>

<p>I&rsquo;m not a mathematician or a statistician, and I did paint this topic with very broad strokes.  You can check my work with the simple <a href="https://spreadsheets.google.com/ccc?key=0AroG_EaGJ08tdHM5Z0syaWJBbkZkWnFqN3c2bFZ6OUE&hl=en">Google Spreadsheet</a> I created to track my results.  If this were an actual task, I&rsquo;d be a bit more precise, but I wanted to show the differences between the approaches, without getting into too much minutia.</p>

<p>That said, discussion about factors I may have missed are welcome, I think you&rsquo;ll find that the delta in price for just the CPU horsepower between the cloud and a bare metal solution more than absorb any real differences I may have excluded.  ;&ndash;)</p>
</div>
  
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/10/25/rightscale-crowd-sources-value-add-content/">Rightscale Crowd Sources Value Add Content</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-10-25T00:00:00-07:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/10/25/rightscale-crowd-sources-value-add-content/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-10-25 00:00:00 -0700</h2>

<p>layout: post
title: RightScale crowd sources value-add content
comments: true
categories:
&ndash; Cloud computing
tags:
&ndash; cloud
&ndash; contest
&ndash; ipad
&ndash; linkedin
&ndash; RightScale
&ndash; servertemplate
&ndash; showdown
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/a2nwef">http://b2l.me/a2nwef</a>
  <em>wp_old_slug: &lsquo;&rsquo;
  </em>sexybookmarks_permaHash: 02bb385ea316dcd24e980a38147360ae</p>

<h2>date: 2010-10-25 00:00:00 -0700</h2>

<p>RightScale is definitely doing the whole &ldquo;social media thing&rdquo; right.  They&rsquo;re active on <a href="http://twitter.com/rightscale">Twitter</a> and <a href="http://www.facebook.com/RightScale">Facebook</a>.  The CEO <a href=http://blog.rightscale.com/">blogs</a>, they have a community <a href="http://forums.rightscale.com/">forum</a> and the very nature of their product encourages users to interact and share with one another.  Clearly they&rsquo;ve ticked all of the big social media checkboxes, but their latest announcement is sheer evil genius!</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/2010/10/25/rightscale-crowd-sources-value-add-content/">Read on &rarr;</a>
    </footer>
  


</div>

      </article>
    
    
      <article class="span4">
        <div class="article-format">

  <header>
    
      <h1 class="entry-title"><a href="/2010/09/14/how-to-headlight-oxidation-restoration/">How to Headlight Oxidation Restoration</a></h1>
    
    
      <p class="meta">
        
  


  
    <span class="byline author vcard">by <a href="https://plus.google.com/+RyanGeyerCycles?rel=author"><span class="fn">Ryan J. Geyer</span></a></span>
  

 - 
        








  


<time datetime="2010-09-14T00:00:00-07:00" pubdate data-updated="true"></time> - 
        


        
         | <a href="/2010/09/14/how-to-headlight-oxidation-restoration/#disqus_thread">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>date: 2010-09-14 00:00:00 -0700</h2>

<p>layout: post
title: How To &ndash; Headlight Oxidation Restoration
comments: true
categories:
&ndash; 92 ES300
tags:
&ndash; clear coat
&ndash; headlight
&ndash; late model restoration
&ndash; linkedin
&ndash; oxidation
&ndash; paint
&ndash; restoration
&ndash; yellow
status: publish
type: post
published: true
meta:
  <em>edit_last: &lsquo;1&rsquo;
  </em>sexybookmarks_shortUrl: <a href="http://b2l.me/ar3qcu">http://b2l.me/ar3qcu</a>
  <em>wp_old_slug: &lsquo;&rsquo;
  </em>sexybookmarks_permaHash: 2c32fa73dccf097e6e9b9cbb66236788</p>

<h2>date: 2010-09-14 00:00:00 -0700</h2>

<p><a href="http://www.flickr.com/photos/rgeyer/4966004876/" title="Headlight Restoration by qwikrex, on Flickr" target="_blank"><img src="http://farm5.static.flickr.com/4092/4966004876_dcdb5a37a0.jpg" width="500" height="334" alt="Headlight Restoration" class="aligncenter" /></a>
A common affliction to older cars is that the headlights begin to become dull, or yellow over time.  This had happened to our 1992 Lexus ES300 pictured above.  To be fair, the passenger headlight is a little cloudier since I had done a little bit of wet sanding before I took the photo, more on that later though.</p>

<p><em><strong>I am going to describe the process I used to restore the yellowed and oxidized headlights, but with that comes the disclaimer.  This process is not advised, I can not be held responsible if you void your warranty, destroy your headlights, starve your dog, or burn down your house.  Your mileage may vary..</strong></em>
<a href="http://www.flickr.com/photos/rgeyer/4992361420/" title="Products by qwikrex, on Flickr" target="_blank"><img src="http://farm5.static.flickr.com/4144/4992361420_0b135a3b39_m.jpg" width="240" height="240" alt="Products" class="alignright"/></a>
There are lots of &ldquo;all-in-one&rdquo; headlight restoration kits which have different materials and chemicals in them, and they all will work to varying degrees.  However, I wanted to take the DIY approach.  There are many other how to&rsquo;s and lots of opinions about how this is done, I chose to wet sand to remove the oxidation then spray a few coats of clear and wet sand and polish again til nice and shiny.  Here&rsquo;s how I did it.</p>

<p>First, I wet sanded the lens with a 1500 grit paper.  I used a spray bottle filled with water and maybe a quarter of an ounce of dish soap, and made sure to keep the lens nice and wet while sanding.  Sand just enough to get rid of the yellowing, and get a uniform surface.</p>

<p>The next step was to spray on three coats of Dupli-Color Acrylic Enamel from an aerosol can.  I followed the instructions of doing two light coats, then one medium wet coat, each coat separated by 10 minutes.</p>

<p>Then, I put two sheets of 2000 grit paper in a water and dish soap solution to soak overnight.  After letting the paper soak and the paint dry over night, I used the same wet sanding process on the clear coat with the 2000 grit paper.  I sanded until almost all of the orange peel was gone, but left it a teensy bit wavy so I had some material to remove in the last step.</p>

<p>In the last step I used some Meguiars Ultimate Compound for buffing.  This buffed away the last of the orange peel and left a nice smooth shiny surface.</p>

<p>That&rsquo;s all there is to it, and here&rsquo;s the results!</p>

<p><a href="http://www.flickr.com/photos/rgeyer/4965991720/" title="Before &amp; After by qwikrex, on Flickr" target="_blank"><img src="http://farm5.static.flickr.com/4090/4965991720_6a4cc38fa8_m.jpg" width="179" height="240" alt="Before &amp; After" /></a><a href="http://www.flickr.com/photos/rgeyer/4965399111/" title="Before &amp; After by qwikrex, on Flickr" target="_blank"><img src="http://farm5.static.flickr.com/4131/4965399111_20878a1df8_m.jpg" width="179" height="240" alt="Before &amp; After" /></a><a href="http://www.flickr.com/photos/rgeyer/4965396443/" title="Before &amp; After by qwikrex, on Flickr" target="_blank"><img src="http://farm5.static.flickr.com/4086/4965396443_b5898a9de2_m.jpg" width="179" height="240" alt="Before &amp; After" /></a></p>
</div>
  
  


</div>

      </article>
    
    </div>
      <div class="row">
        <ul class="pager">
          
            <li class="previous">
              <a href="/page/8/">&larr; Older</a>
            </li>
          
          
            <li class="next">
              <a class="next" href="/page/6/">Newer &rarr;</a>
            </li>
          
        </ul>
      </div>
  </div>
</div>


  <div id="footer-widgets">
  <div class="container">
    <div class="row">
  <div class="span3">
    <h2>recent posts</h2>
    <ul class="recent_posts">
      
        <li>
          <a href="/2014/04/13/out-of-hibernation/">Out of hibernation?</a>
        </li>
      
        <li>
          <a href="/2011/12/28/anatomy-of-an-iaas-cloud/">Anatomy Of An Iaas Cloud</a>
        </li>
      
        <li>
          <a href="/2011/12/19/the-truth-about-set-top-boxes-no-one-wants-you-to-know/">The Truth About Set Top Boxes No One Wants You To Know</a>
        </li>
      
        <li>
          <a href="/2011/11/03/i-m-becoming-one-of-this-moms-and-it-scares-me/">I M Becoming One Of This Moms And It Scares Me</a>
        </li>
      
        <li>
          <a href="/2011/10/30/one-month-one-awesome-month-/">One Month One Awesome Month</a>
        </li>
      
    </ul>
    <h2><a href="/blog/archives">archives</a></h2>
  </div>
  <div class="span3">
    <h2>social stuff</h2>
<center>
  <script type="text/javascript" src="http://twittercounter.com/embed/?username=rjgeyer&style=avatar"></script><noscript><a href="http://twittercounter.com/rjgeyer">Ryan Geyer on Twitter Counter.com</a></noscript>

  <iframe src="http://widgets.klout.com/badge/rjgeyer?size=m" style="border:0" scrolling="no" allowTransparency="true" frameBorder="0" width="160px" height="78px"></iframe>

  <a href="http://www.linkedin.com/pub/1/828/328" ><img src="http://www.linkedin.com/img/webpromo/btn_viewmy_120x33.gif" width="120" height="33" border="0" alt="View Ryan Geyer's profile on LinkedIn"></a>
</center>

  </div>
  <div class="span4">
    
<a class="twitter-timeline" href="https://twitter.com/rjgeyer" data-widget-id="436931274691706882">Tweets by @rjgeyer</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


  </div>
  <div class="span2">
    <h2>found on</h2>

<a href="https://github.com/rgeyer/" rel="tooltip" title="Github"><img class="social_icon" title="Github" alt="github icon" src="/images/glyphicons_381_github.png"></a>



<a href="http://stackoverflow.com/users/1305386/" rel="tooltip" title="Stack Overflow"><img class="social_icon" title="Stack Overflow" alt="stack overflow icon" src="/images/glyphicons_400_stack_overflow.png"></a>



<a href="http://www.linkedin.com/in/rjgeyer" rel="tooltip" title="Linkedin"><img class="social_icon" title="Linkedin" alt="Linkedin icon" src="/images/glyphicons_377_linked_in.png"></a>



<a href="http://twitter.com/rjgeyer" rel="tooltip" title="Twitter"><img class="social_icon" title="Twitter" alt="Twitter icon" src="/images/glyphicons_391_twitter_t.png"></a>











<a href="https://plus.google.com/+RyanGeyerCycles?rel=author" rel="tooltip" title="Google Plus"><img class="social_icon" title="Google Plus" alt="Google Plus icon" src="/images/glyphicons_386_google_plus.png"></a>



<a href="http://www.quora.com/Ryan-Geyer" rel="tooltip" title="Quora"><img class="social_icon" title="Quora" alt="Quora icon" src="/images/glyphicons_385_quora.png"></a>



<h2>contact at</h2>
<a href="mailto:me@ryangeyer.com">me@ryangeyer.com</a>


  </div>
</div>

  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-left">
  <a href="/">Random Musings</a>
  - Copyright &copy; 2014 - Ryan J. Geyer
</p>
<p class="pull-right">
  <span>Powered by <a href="http://octopress.org/">Octopress</a>.</span>
  
    <span>Designed by <a href="http://www.AdrianArtiles.com">Adrian Artiles</a>.</span>
  
</p>

  </div>
</footer>

  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script>window.jQuery || document.write('<script src="/javascripts/libs/jquery-1.7.2.min.js" type="text/javascript"><\/script>')</script>
<script src="/javascripts/libs/bootstrap.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.tweet.js" type="text/javascript"></script>
<script src="/javascripts/jquery.instagram.js" type="text/javascript"></script>
<script src="/javascripts/libs/jquery.masonry.min.js" type="text/javascript"></script>
<script src="/javascripts/custom.js" type="text/javascript"></script>


<script type="text/javascript">
      var disqus_shortname = 'randmu';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>




</body>
</html>
